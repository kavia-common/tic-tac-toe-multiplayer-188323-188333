{"is_source_file": true, "format": "Python", "description": "This file implements a REST API for a multiplayer Tic Tac Toe game using FastAPI. It defines data models for game state, manages in-memory game storage, and provides endpoints to create a game, fetch game state, and make moves. The code includes internal logic to check for winners, update game status, and enforce game rules.", "external_files": ["fastapi", "fastapi.middleware.cors", "pydantic", "uuid"], "external_methods": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.Path", "fastapi.middleware.cors.CORSMiddleware", "pydantic.BaseModel", "pydantic.Field", "uuid.uuid4"], "published": ["health_check", "create_game", "get_game_state", "make_move"], "classes": [{"name": "CreateGameResponse", "description": "Response model for creating a new game."}, {"name": "GameState", "description": "Represents the full game state returned by API endpoints."}, {"name": "MoveRequest", "description": "Request payload for making a move."}, {"name": "_Game", "description": "Internal class representing game state stored in memory; manages game logic."}], "methods": [{"name": "Optional[str] _check_winner(board: List[str])", "description": "Determines if there is a winner ('X' or 'O') based on the current board.", "scope": "", "scopeKind": ""}, {"name": "None _update_status(game: _Game)", "description": "Updates the game status ('IN_PROGRESS', 'X_WON', 'O_WON', 'DRAW') based on the board.", "scope": "", "scopeKind": ""}, {"name": "GameState to_state(self)", "description": "Converts internal _Game instance to API GameState.", "scope": "_Game", "scopeKind": "class"}, {"name": "None __init__(self)", "scope": "_Game", "scopeKind": "class", "description": "unavailable"}, {"name": "CreateGameResponse create_game()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GameState get_game_state( gameId: str = Path(..., description=\"The unique identifier for the game to fetch\") )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GameState make_move( payload: MoveRequest, gameId: str = Path(..., description=\"The unique identifier for the game to play in\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["uuid.uuid4", "app.get", "app.post"], "search-terms": ["Tic Tac Toe REST API", "FASTAPI game management", "In-memory game storage", "make_move API", "create_game API", "fetch game state"], "state": 2, "file_id": 2, "knowledge_revision": 10, "git_revision": "5cffd0609bed105be64a5f73c94baf84a77d51bd", "revision_history": [{"9": "0999e89c5eb34ebe46838ad7f82ed554adf73373"}, {"10": "5cffd0609bed105be64a5f73c94baf84a77d51bd"}], "ctags": [{"_type": "tag", "name": "CreateGameResponse", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^class CreateGameResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GameState", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^class GameState(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MoveRequest", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^class MoveRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_GAMES", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^_GAMES: Dict[str, _Game] = {}$/", "language": "Python", "typeref": "typename:Dict[str, _Game]", "kind": "variable"}, {"_type": "tag", "name": "_Game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^class _Game:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "_Game", "scopeKind": "class"}, {"_type": "tag", "name": "_check_winner", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def _check_winner(board: List[str]) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "function", "signature": "(board: List[str])"}, {"_type": "tag", "name": "_update_status", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def _update_status(game: _Game) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(game: _Game)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    board: List[str] = Field(..., description=\"A list of 9 strings representing the board cells,/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "create_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def create_game() -> CreateGameResponse:$/", "language": "Python", "typeref": "typename:CreateGameResponse", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "gameId", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    gameId: str = Field(..., description=\"Unique identifier of the created game\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "CreateGameResponse", "scopeKind": "class"}, {"_type": "tag", "name": "get_game_state", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def get_game_state($/", "language": "Python", "typeref": "typename:GameState", "kind": "function", "signature": "( gameId: str = Path(..., description=\"The unique identifier for the game to fetch\") )"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "make_move", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def make_move($/", "language": "Python", "typeref": "typename:GameState", "kind": "function", "signature": "( payload: MoveRequest, gameId: str = Path(..., description=\"The unique identifier for the game to play in\"), )"}, {"_type": "tag", "name": "nextPlayer", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    nextPlayer: str = Field(..., description=\"The player whose turn is next: 'X' or 'O'\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "position", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    position: int = Field(..., ge=0, le=8, description=\"Board position index from 0 to 8\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "MoveRequest", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    status: str = Field(..., description=\"Game status: 'IN_PROGRESS' | 'X_WON' | 'O_WON' | 'DRAW/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "to_state", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-multiplayer-188323-188333/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    def to_state(self) -> GameState:$/", "language": "Python", "typeref": "typename:GameState", "kind": "member", "signature": "(self)", "scope": "_Game", "scopeKind": "class"}], "hash": "21b2e0d19ea61d13ac7a3eb552e2b355", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/api/main.py", "fields": [{"name": "Dict[str, _Game] _GAMES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] board", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}, {"name": "str gameId", "scope": "CreateGameResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "str nextPlayer", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}, {"name": "int position", "scope": "MoveRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str status", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}]}